{% load static %}
<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>WHOVO || 회원가입</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- favicon
		============================================ -->		
        <link rel="shortcut icon" type="image/x-icon" href="{% static 'img/www.ico' %}">
	   
		<!-- Bootstrap CSS
		============================================ -->		
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css'%}">
		<!-- font-awesome CSS
		============================================ -->
        <link rel="stylesheet" href="{% static 'css/font-awesome.min.css'%}">
        <!-- meanmenu css -->
        <link rel="stylesheet" href="{% static 'css/meanmenu.min.css'%}">
		<!-- owl.carousel CSS
		============================================ -->
        <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css'%}">
		<!-- nivo slider CSS
		============================================ -->
		<link rel="stylesheet" href="{% static 'lib/css/nivo-slider.css'%}" type="text/css" />
		<link rel="stylesheet" href="{% static 'lib/css/preview.css'%}" type="text/css" media="screen" />
		<!-- chosen CSS
		============================================ -->
        <link rel="stylesheet" href="{% static 'css/chosen.min.css'%}">
		<!-- animate CSS
		============================================ -->
        <link rel="stylesheet" href="{% static 'css/animate.css'%}">
        <!-- Magnific Popup CSS
        ============================================ -->
        <link rel="stylesheet" href="{% static 'css/magnific-popup.css'%}">
		<!-- normalize CSS
		============================================ -->
        <link rel="stylesheet" href="{% static 'css/normalize.css'%}">
		<!-- main CSS
		============================================ -->
        <link rel="stylesheet" href="{% static 'css/main.css'%}">
		<!-- style CSS
		============================================ -->
        <link rel="stylesheet" href="{% static 'style.css'%}">
		<!-- responsive CSS
		============================================ -->
        <link rel="stylesheet" href="{% static 'css/responsive.css'%}">
        
		<!-- modernizr JS
		============================================ -->		
        <script src="{% static 'js/vendor/modernizr-3.11.7.min.js'%}"></script>

    </head>
    <body>
        <!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <!-- Add your site or application content here -->
        <div class="wrapper">
            <header class="header-area">
                <div class="header-bottom stick-h2">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="logo floatleft">
                                    <a href="../../whovo">
                                        <img alt="" src="{% static 'img/logo/whovologo.png' %}">
                                    </a>
                                </div>
                                <div class="header-search floatright">
                                    <div class="header-button floatright">
                                        <a href="../../user/index/">로그인</a>
                                    </div>
                                </div>
                                <div class="main-menu floatright">
                                    <nav>
                                        <ul>
                                            <li><a href=""> 후보별 공약 <i class="fa fa-angle-down" aria-hidden="true"></i></a>
                                                <ul class="submenu-mainmenu">
                                                    <li>
                                                        <a href="../../candidate1/index">이재명 후보 공약보기</a>
                                                    </li>
                                                    <li>
                                                        <a href="../../candidate2/index">윤석열 후보 공약보기</a>
                                                    </li>
                                                    <li>
                                                        <a href="../../candidate3/index">심상정 후보 공약보기</a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <div class="mobile-menu-area d-block d-lg-none">
                <div class="container">
                    <div class="mobile-menu-area">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="mobile-menu">
                                    <nav id="dropdown">
                                        <ul>
                                            <li><a href=""> 후보별 공약 <i class="fa fa-angle-down" aria-hidden="true"></i></a>
                                                <ul class="submenu-mainmenu">
                                                    <li>
                                                        <a href="../../candidate1/index">이재명 후보 공약보기</a>
                                                    </li>
                                                    <li>
                                                        <a href="../../candidate2/index">윤석열 후보 공약보기</a>
                                                    </li>
                                                    <li>
                                                        <a href="../../candidate3/index">심상정 후보 공약보기</a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <section class="breadcrumbs-area ptb-140 about-bg">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12 text-center">
                            <div class="breadcrumbs">
                                <h2 class="page-title">회원가입</h2>
                                <ul>
                                    <li><a href="../../whovo">Home</a></li>
                                    <li>Register</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <section class="donate-area ptb-80">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="donate-sidebar">
                                <div class="donate-sidebar-bottom" align="center">
                                    <h1>회원가입</h1>
                                    <form method="post" name="login">
                                        {% csrf_token %}
                                        <div class="row1">
                                            <div class="col-lg-4">
                                                <input class="form-control2" required="" name="id" id="id" placeholder="ID" type="text" onchange="check_id()">
                                                <span id="results" style="color:#ea000d"></span><br/>
                                                <button type="button" id = "id_chk_btn" value="중복체크" class = "submit" >중복체크</button>
                                            </div><p/>
                                            <div class="col-lg-4">
                                                <input class="form-control2" required="" name="pwd" id="pwd" placeholder="PASSWORD" type="password" onchange="check_pw()">
                                            </div><p/>
                                            <div class="col-lg-4">
                                                <input class="form-control2" required="" name="pwd2" id="pwd2" placeholder="CONFIRM PASSWORD" type="password" onkeyup="check_pw()">
                                                <span id="check"></span>
                                            </div><p/>
                                            <div class="col-lg-4">
                                                <input class="form-control2" required="" name="name" placeholder="이름" type="text">
                                            </div><p/>
                                            <div class="col-lg-4">
                                                <input class="form-control2" required="" name="age" placeholder="출생 연도 (4자리로 입력 예) 2022)" type="date">
                                            </div><p/>
                                            <div class="col-lg-4">
                                                <select class="email s-email s-wid" name="poli" required="">
                                                    <option value='' selected disabled>선호정당</option>
                                                    <option value="더불어민주당">더불어민주당</option>
                                                    <option value="국민의힘">국민의힘</option>
                                                    <option value="정의당">정의당</option>
                                                </select>
                                        </div>
                                        </div>
                                        <button class="submit" type="submit" onclick="javascript: login.action='../join/';">
                                            회원가입
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <footer id="footer" class="social-area">
                <div class="footer-bottom">
                    <div class="container">
                        <div class="row">
                            <div class="footer-bottom-all">
                                <div class="col-lg-12 col-12 col-md-12">
                                    <div class="copyright-text text-center">
                                        <p>Copyright© 2021, All Right Reserved.Designed by <a href="https://hasthemes.com/"> HasThemes.</a></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
            <!-- start scrollUp
            ============================================ -->
            <div id="toTop">
                <i class="fa fa-chevron-up"></i>
            </div>
        </div>
        
		<!-- jquery
		============================================ -->		
        <script src="{% static 'js/vendor/jquery-v2.2.4.min.js'%}"></script>
        <!-- Popper JS
		============================================ -->		
        <script src="{% static 'js/popper.min.js'%}"></script>
		<!-- bootstrap JS
		============================================ -->		
        <script src="{% static 'js/bootstrap.min.js'%}"></script>
        <!-- ajax mails JS
        ============================================ -->
        <script src="{% static 'js/ajax-mail.js'%}"></script>
		<!-- wow JS
		============================================ -->		
        <script src="{% static 'js/wow.min.js'%}"></script>
		<!-- Nivo slider js
		============================================ --> 		
		<script src="{% static 'lib/js/jquery.nivo.slider.js'%}"></script>
		<script src="{% static 'lib/home.js'%}"></script>
		<!-- plugins JS
		============================================ -->
        <script src="{% static 'js/plugins.js'%}"></script>
		<!-- main JS
		============================================ -->		
        <script src="{% static 'js/main.js'%}"></script>


        <script >
             $(document).ready(function(){
                $(document).on('click', '#id_chk_btn', function() {
                    alert('chk_btn click')
                    $.ajax({
                        url: '../../user/searchData/',
                        type: 'POST',
                        data: { 'csrfmiddlewaretoken' : '{{csrf_token}}' ,
                                'id' : $('#id').val() },
                        dataType: 'json',
                        success : function(lst) {
                            alert('success')
                            $('#results').html( lst[0].msg )

                        }
                    })
                })
             });
        </script>

        <script>

            function check_id(){
                var userid = $('#id').val();

                if(userid.search(/\s/) != -1){
                  alert("아이디는 공백 없이 입력해주세요.");
                  document.getElementById('id').value='';
                  document.getElementById('id').focus();
                }
                else {
                    console.log("통과");
                }
            }

            $(function(){
            //비밀번호 확인 (팝업으로 한번 더 제한!)
                $('#pwd2').blur(function(){
                   if($('#pwd').val() != $('#pwd2').val()){
                        if($('#pwd2').val()!=''){
                            alert("비밀번호가 일치하지 않습니다.");
                            $('#pwd2').val('');
                            $('#pwd2').focus();
                        }
                   }
                })
            });

            function check_pw(){
                var pw = document.getElementById('pwd').value;
                var checkNumber = pw.search(/[0-9]/g);
                var checkEnglish = pw.search(/[a-z]/ig);

                if(pw.search(/\s/) != -1){
                  alert("비밀번호는 공백 없이 입력해주세요.");
                  document.getElementById('pwd').value='';
                  document.getElementById('pwd').focus();
                }
                else if(/(\w)\1\1\1/.test(pw)){
                    alert('같은 문자를 4번 이상 사용하실 수 없습니다.');
                    document.getElementById('pwd').value='';
                    document.getElementById('pwd').focus();
                }
                else if(pw.length < 6 || pw.length>16){
                    window.alert('비밀번호는 6글자 이상, 16글자 이하만 이용 가능합니다.');
                    document.getElementById('pwd').value='';
                    document.getElementById('pwd').focus();
                }
                else {
                    console.log("통과");
                }

                if(document.getElementById('pwd').value !='' && document.getElementById('pwd2').value!=''){
                    if(document.getElementById('pwd').value==document.getElementById('pwd2').value){
                        document.getElementById('check').innerHTML='비밀번호가 일치합니다.'
                        document.getElementById('check').style.color='blue';
                    }
                    else{
                        document.getElementById('check').innerHTML='비밀번호가 일치하지 않습니다.';
                        document.getElementById('check').style.color='red';
                    }
                }
            }

        </script>




    </body>
</html>
